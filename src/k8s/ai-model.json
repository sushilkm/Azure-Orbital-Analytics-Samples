{
	"apiVersion": "batch/v1",
	"kind": "Job",
	"metadata": {
		"name": "${JOB_NAME}",
		"namespace": "${APP_NAMESPACE}",
		"labels": {
			"AI_MODEL": "custom-vision"
		}
	},
	"spec": {
		"ttlSecondsAfterFinished": 100,
		"template": {
			"spec": {
				"containers": [{
					"name": "task-run-ai-model",
					"image": "${AIMODEL_DOCKER_IMG}",
					"env": [{
							"name": "APP_INPUT_DIR",
							"value": "${MOUNT_POINT}/${PROCESSING_DIR}/${AIMODEL_INPUT_DIR}"
						},
						{
							"name": "APP_OUTPUT_DIR",
							"value": "${MOUNT_POINT}/${PROCESSING_DIR}/${AIMODEL_OUTPUT_DIR}"
						},
						{
							"name": "APP_CONFIG_DIR",
							"value": "${MOUNT_POINT}/config/${AIMODEL_CONFIG_FILE}"
						}
					],
					"volumeMounts": [{
						"name": "${VOLUME_NAME}",
						"mountPath": "${MOUNT_POINT}"
					}]
				}],
				"volumes": [{
					"name": "${VOLUME_NAME}",
					"persistentVolumeClaim": {
						"claimName": "${PVC_CLAIM_NAME}"
					}
				}],
				"automountServiceAccountToken": false,
				"restartPolicy": "Never"
			}
		}
	}
}
